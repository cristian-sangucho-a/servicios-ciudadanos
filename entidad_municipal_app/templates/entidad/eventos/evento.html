{% extends "base.html" %}
{% block content %}
<div class="container mx-auto py-8">
  <div class="mb-6">
    <a href="{% url 'gestor_eventos' %}" class="text-[#1E4F82] hover:underline">&larr; Volver al Gestor de Eventos</a>
  </div>
  <div class="bg-white shadow-lg rounded-lg overflow-hidden">
    <div class="p-6">
      <h1 class="text-3xl font-bold text-[#143D69]">{{ evento.nombre_evento }}</h1>
      <p class="mt-4 text-gray-600">{{ evento.descripcion_evento }}</p>
      <div class="mt-4 space-y-1">
        <p><strong>Fecha:</strong> {{ evento.fecha_realizacion|date:"d/m/Y H:i" }}</p>
        <p><strong>Lugar:</strong> {{ evento.lugar_evento }}</p>
        <p><strong>Capacidad Máxima:</strong> {{ evento.capacidad_maxima }}</p>
        <p><strong>Cupos Disponibles:</strong> {{ evento.cupos_disponibles }}</p>
        <p><strong>Estado:</strong> {{ evento.estado_actual }}</p>
      </div>
    </div>
    <div class="p-6 border-t">
      <h2 class="text-2xl font-semibold text-[#143D69] mb-4">Ciudadanos Inscritos</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-[#143D69]">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase">Nombre Completo</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase">Correo</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase">Identificación</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-white uppercase">Fecha Inscripción</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            {% for registro in inscritos %}
            <tr>
              <td class="px-6 py-4 whitespace-nowrap">{{ registro.ciudadano.nombre_completo }}</td>
              <td class="px-6 py-4 whitespace-nowrap">{{ registro.ciudadano.correo_electronico }}</td>
              <td class="px-6 py-4 whitespace-nowrap">{{ registro.ciudadano.numero_identificacion }}</td>
              <td class="px-6 py-4 whitespace-nowrap">{{ registro.fecha_inscripcion|date:"d/m/Y H:i" }}</td>
            </tr>
            {% empty %}
            <tr>
              <td class="px-6 py-4 whitespace-nowrap" colspan="4">No hay ciudadanos inscritos.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
